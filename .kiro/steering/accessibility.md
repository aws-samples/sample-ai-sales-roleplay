# アクセシビリティガイドライン

## 概要

このプロジェクトでは、WCAG 2.1 AA基準に準拠したアクセシビリティを確保することを目指しています。すべてのユーザーが、障害の有無にかかわらず、アプリケーションを効果的に使用できるようにするためのガイドラインです。

## 色とコントラスト

- テキストと背景のコントラスト比は、通常のテキストで4.5:1以上、大きなテキスト（18pt以上または太字14pt以上）で3:1以上を確保する
- 色だけで情報を伝えないようにし、常にテキストや形状などの他の視覚的な手がかりを併用する
- 色覚異常を考慮し、赤/緑の組み合わせに依存しない
- 重要な情報を伝える場合は、以下の色の組み合わせを使用する：
  - 成功: 緑色 (#2e7d32) - 背景が明るい場合
  - 警告: 琥珀色 (#ed6c02) - 背景が明るい場合
  - エラー: 赤色 (#d32f2f) - 背景が明るい場合
  - 情報: 青色 (#0288d1) - 背景が明るい場合

## キーボードアクセシビリティ

- すべての機能がキーボードのみで操作できるようにする
- フォーカス可能な要素には視覚的なフォーカスインジケーターを提供する
- フォーカスの順序は論理的で予測可能なものにする
- キーボードトラップを避ける（フォーカスが特定の要素から抜け出せなくなる状態）
- インタラクティブな要素には適切なキーボードイベントハンドラーを実装する

## スクリーンリーダー対応

- すべての非テキストコンテンツに代替テキストを提供する
- 適切なARIA属性を使用して、動的なコンテンツや複雑なUIコンポーネントをアクセス可能にする
- フォームコントロールには明示的なラベルを関連付ける
- 状態変化を適切に通知する（aria-live領域の使用）
- 意味のあるマークアップ構造を使用する（見出しレベル、リスト、テーブルなど）

## フォーム要素

- すべてのフォーム要素に関連するラベルを提供する
- エラーメッセージは明確で具体的なものにし、エラーの修正方法を示す
- 必須フィールドを視覚的に示し、スクリーンリーダーにも伝える
- 入力フィールドには適切な入力タイプとバリデーションを設定する

## 動的コンテンツ

- アニメーションやモーションは必要最小限にし、ユーザーが制御できるようにする
- 自動再生される音声や動画は避け、ユーザーが制御できるようにする
- 時間制限のあるコンテンツには、延長または無効化のオプションを提供する
- 点滅するコンテンツは避ける（光過敏性発作の危険性）

## ARIA属性の使用

- 適切なARIAランドマーク（role属性）を使用して、ページの主要セクションを識別する
- 動的に変更される内容には、aria-live属性を使用して変更を通知する
- 非表示または表示されるコンテンツには、aria-expanded属性を使用する
- カスタムコントロールには、適切なrole属性とARIA状態属性を使用する

## テスト

- キーボードのみでの操作をテストする
- 様々なスクリーンリーダー（NVDA、VoiceOver、JAWSなど）でのアクセシビリティをテストする
- コントラストチェッカーツールを使用して、色のコントラストをテストする
- 拡大表示（200%以上）でのレイアウトの崩れをチェックする

## 実装例

### アクセシブルなボタン
```tsx
<Button
  onClick={handleClick}
  aria-label="詳細を表示"
  aria-pressed={isPressed}
  disabled={isDisabled}
>
  詳細
</Button>
```

### アクセシブルなプログレスバー
```tsx
<Box>
  <Typography id="progress-label">進捗状況</Typography>
  <LinearProgress
    aria-labelledby="progress-label"
    aria-valuemin={0}
    aria-valuemax={100}
    aria-valuenow={progress}
    aria-valuetext={`${progress}%完了`}
    value={progress}
  />
</Box>
```

### アクセシブルなモーダルダイアログ
```tsx
<Dialog
  open={open}
  onClose={handleClose}
  aria-labelledby="dialog-title"
  aria-describedby="dialog-description"
>
  <DialogTitle id="dialog-title">確認</DialogTitle>
  <DialogContent>
    <Typography id="dialog-description">
      変更を保存しますか？
    </Typography>
  </DialogContent>
  <DialogActions>
    <Button onClick={handleClose}>キャンセル</Button>
    <Button onClick={handleSave} autoFocus>保存</Button>
  </DialogActions>
</Dialog>
```