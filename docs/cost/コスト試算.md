# AI営業ロールプレイアプリケーション - コスト試算

## 概要
本ドキュメントは、AI営業ロールプレイアプリケーションの月間運用コストを試算したものです。
ビデオ分析機能とリファレンスチェック機能を含む最新の機能セットに基づいて算出しています。

## 前提条件
- **月間アクティブユーザー数**: 50人
- **1人あたり月間セッション数**: 10回
- **1セッションあたり平均会話数**: 15回
- **音声合成使用率**: 80%（会話の80%で音声合成を使用）
- **ビデオ分析使用率**: 60%（セッションの60%でビデオ録画・分析を実施）
- **リファレンスチェック使用率**: 80%（セッションの80%でリファレンスチェックを実施）
- **AWS無料利用枠**: 適用（初年度）

## 月間コスト試算（詳細）

### 1. Amazon Bedrock（AI会話生成・分析）
- **使用量**: 月間225,000回の会話 + 1,350回のビデオ分析 + 1,800回のリファレンスチェック + 500回の音声分析
- **トークン使用量**:
  - 入力: 112,500K tokens（会話） + 22,500K tokens（スコアリング） + 11,250K tokens（フィードバック） + 373,248K tokens（ビデオ分析） + 36,000K tokens（リファレンスチェック） + 25,000K tokens（音声分析）
  - 出力: 67,500K tokens（会話） + 11,250K tokens（スコアリング） + 4,500K tokens（フィードバック） + 13,500K tokens（ビデオ分析） + 18,000K tokens（リファレンスチェック） + 5,000K tokens（音声分析）
- **月間コスト**: **$319.12**

### 2. Amazon Polly（音声合成）
- **使用量**: 月間180,000回の音声合成（36,000,000文字）
- **無料枠**: 月間500万文字（初年度）
- **課金対象**: 36,000,000 - 5,000,000 = 31,000,000文字
- **料金計算**: 31,000,000文字 × $4.00/100万文字 = $124.00
- **月間コスト**: **$124.00**（無料枠適用後）

### 3. AWS Lambda（サーバーレス処理）
- **使用量**: 月間675,000回の実行、337,500 GB-seconds
- **無料枠**: 月間100万リクエスト、40万GB-seconds
- **月間コスト**: **$13.50**

### 4. Amazon DynamoDB（データベース）
- **使用量**: 月間2,025,000回のリクエスト
  - 読み取り: 1,417,500 RRU
  - 書き込み: 607,500 WRU
- **無料枠**: 月間2,500万RRU、250万WRU
- **月間コスト**: **$2.53**

### 5. Amazon CloudFront（CDN）
- **使用量**: 月間100GBのデータ転送
- **無料枠**: 月間50GB（初年度）
- **月間コスト**: **$8.50**

### 6. Amazon API Gateway（API管理）
- **使用量**: 月間67,500回のAPI呼び出し
- **無料枠**: 月間100万API呼び出し（初年度）
- **月間コスト**: **$0.24**

### 7. Amazon S3（ストレージ）
- **使用量**: 月間5GBのストレージ
- **無料枠**: 5GB（初年度）
- **月間コスト**: **$0.23**

### 8. AWS WAF（セキュリティ）
- **使用量**: 1つのWeb ACL
- **月間コスト**: **$5.00**

### 9. Amazon Cognito（認証）
- **使用量**: 月間50アクティブユーザー
- **無料枠**: 月間50,000ユーザー
- **月間コスト**: **$0.00**

### 10. Amazon Bedrock Knowledge Base（リファレンスチェック）
- **使用量**: 月間1,800回のクエリ（セッションの80%）
- **ベクトル検索**: 1,800回 × $0.0004 = $0.72
- **月間コスト**: **$0.72**

### 11. Amazon S3 Vectors（Knowledge Base用）
- **使用量**: S3 Vectorsベースの実装（OpenSearch Serverlessから移行）
- **ベクトルストレージ**: 1GB × $0.06/GB/月 = $0.06（営業資料・製品情報のベクトル化データ）
- **PUT リクエスト**: 初期データアップロード時 1GB × $0.20/GB = $0.20（初回のみ、月割り計算で$0.03）
- **クエリ処理**: 
  - API料金: 1,800クエリ × $2.5/100万クエリ = $0.005
  - データ処理料金（Tier 1）: 1,800クエリ × 平均ベクトルサイズ × $0.004/TB = $0.01未満
- **月間コスト**: **$0.10**

**注記**: S3 Vectorsは従来のOpenSearch Serverlessと比較して最大90%のコスト削減を実現。具体的な料金は$86.42から$0.10へと99.9%の大幅削減。

### 12. Amazon S3（ビデオストレージ）
- **使用量**: 月間1,350本のビデオ（平均50MB/本）
- **ストレージ**: 67.5GB × $0.023 = $1.55
- **リクエスト**: 1,350 PUT + 1,350 GET = $0.01
- **月間コスト**: **$1.56**

### 13. Amazon Transcribe（音声分析）
- **使用量**: 月間500回の音声分析（45分/回） = 22,500分
- **階層料金（T1）**: 22,500分 × $0.024/分 = $540.00
- **月間コスト**: **$540.00**

### 17. Amazon Transcribe Streaming（リアルタイム音声認識）
- **使用量**: 月間2,250セッション × 平均5分/セッション = 11,250分
- **階層料金（T1）**: 11,250分 × $0.024/分 = $270.00
- **月間コスト**: **$270.00**

### 18. API Gateway WebSocket API（リアルタイム通信）
- **接続時間**: 月間2,250セッション × 5分 = 11,250分 = 187,500接続分
- **メッセージ数**: セッション当たり平均60メッセージ × 2,250セッション = 135,000メッセージ
- **接続時間コスト**: 187,500 ÷ 1,000,000 × $0.25 = $0.05
- **メッセージコスト**: 135,000 ÷ 1,000,000 × $1.00 = $0.14
- **月間コスト**: **$0.19**

### 19. AWS Lambda（WebSocket処理）
- **WebSocket Handler実行**: 月間67,500回（connect/disconnect/message handlers）
- **実行時間**: 67,500回 × 平均200ms = 281.25 GB-seconds
- **実行コスト**: 67,500回 × $0.0000002 = $0.01
- **実行時間コスト**: 281.25 × $0.0000166667 = $0.00
- **月間コスト**: **$0.01**

### 20. Amazon DynamoDB（WebSocket接続管理）
- **使用量**: WebSocket接続情報の読み書き
- **読み取り**: 67,500 RRU
- **書き込み**: 22,500 WRU
- **読み取りコスト**: 67,500 ÷ 1,000,000 × $0.25 = $0.02
- **書き込みコスト**: 22,500 ÷ 1,000,000 × $1.25 = $0.03
- **月間コスト**: **$0.05**

### 14. AWS Step Functions（音声分析ワークフロー）
- **使用量**: 月間500回の実行 × 8状態遷移/実行 = 4,000状態遷移
- **状態遷移コスト**: 4,000 × $0.000025 = $0.10
- **月間コスト**: **$0.10**

### 15. AWS Lambda（音声分析処理）
- **使用量**: 月間2,500回の実行（500分析 × 5Lambda関数）、625 GB-seconds
- **実行回数**: 2,500回
- **実行時間**: 625 GB-seconds × $0.0000166667 = $0.10
- **月間コスト**: **$0.10**

### 16. Amazon S3（音声ファイルストレージ）
- **使用量**: 月間500ファイル（平均45MB/ファイル）
- **ストレージ**: 22.5GB × $0.023 = $0.52
- **PUT リクエスト**: 500回 × $0.0005/1000 = $0.25
- **GET リクエスト**: 500回 × $0.0004/1000 = $0.20
- **月間コスト**: **$0.97**

## 月間総コスト
**$1,284.51/月**

**コスト削減効果**: OpenSearch ServerlessからS3 Vectorsへの移行により、月間$86.32の削減を実現（約6.3%のコスト削減）

## 1人あたりのコスト

### 月間コスト（1人あたり）
- **総コスト**: $1,284.51/月
- **アクティブユーザー数**: 50人
- **1人あたり月間コスト**: **$25.69/月**

### 年間コスト（1人あたり）
- **1人あたり年間コスト**: **$308.28/年**

### セッションあたりのコスト（1人あたり）
- **1人あたり月間セッション数**: 10回
- **1セッションあたりコスト**: **$2.57/セッション**

### リアルタイム音声認識機能あたりのコスト（1人あたり）
- **1人あたり月間セッション数**: 10回
- **1セッションあたりリアルタイム音声認識コスト**: **$0.54/セッション**

### 音声分析機能あたりのコスト（1人あたり）
- **1人あたり月間音声分析回数**: 10回
- **1回あたり音声分析コスト**: **$1.08/回**

### コスト構成比（1人あたり）
1. **Amazon Transcribe（音声分析）**: $10.80/月（42.0%）
2. **Amazon Bedrock（AI機能）**: $6.38/月（24.8%）
3. **Amazon Transcribe Streaming（リアルタイム音声認識）**: $5.40/月（21.0%）
4. **Amazon Polly（音声合成）**: $2.48/月（9.7%）
5. **その他のAWSサービス**: $0.63/月（2.5%）

**注記**: S3 Vectorsの導入により、Knowledge Base関連コストが大幅に削減され、全体のコスト構成が最適化されました。

### スケールメリット分析
**固定コスト要素**（ユーザー数に依存しない）:
- AWS WAF: $5.00/月
- **固定コスト合計**: $5.00/月

**変動コスト要素**（ユーザー数に比例）:
- Amazon Transcribe（音声分析）: $540.00/月
- Amazon Bedrock: $319.12/月
- Amazon Transcribe Streaming（リアルタイム音声認識）: $270.00/月
- Amazon Polly: $124.00/月
- S3 Vectors: $0.10/月
- API Gateway WebSocket API: $0.19/月
- AWS Lambda（WebSocket処理）: $0.01/月
- Amazon DynamoDB（WebSocket接続管理）: $0.05/月
- その他: $26.04/月
- **変動コスト合計**: $1,279.51/月

**注記**: OpenSearch Serverlessの固定コスト$86.42がS3 Vectorsの変動コスト$0.10に置き換わったことで、固定コストが大幅に削減されました。

#### ユーザー数別1人あたりコスト予測
- **50人**: $25.69/月（固定コスト$0.10 + 変動コスト$25.59）
- **100人**: $25.64/月（固定コスト$0.05 + 変動コスト$25.59）
- **200人**: $25.62/月（固定コスト$0.03 + 変動コスト$25.59）
- **500人**: $25.60/月（固定コスト$0.01 + 変動コスト$25.59）

**注記**: 固定コストが$5.00と非常に小さいため、ユーザー数による1人あたりコストの差はほぼありません。変動コスト（Transcribe、Bedrock、Polly等）が全体の99.6%を占めています。

## 詳細試算データ

### 実行頻度の計算
- 50人 × 10セッション × 15会話 = 7,500会話/日
- 月間（30日）: 225,000会話
- 平均API呼び出し頻度: 3.125API/分（営業時間8時間ベース）

### トークン使用量詳細
#### 会話生成（Nova Lite）
- Input: 475 tokens/会話 × 225,000会話 = 106,875K tokens
- Output: 300 tokens/会話 × 225,000会話 = 67,500K tokens

#### リアルタイム評価（Nova Micro）
- Input: 100 tokens/会話 × 225,000会話 = 22,500K tokens
- Output: 50 tokens/会話 × 225,000会話 = 11,250K tokens

#### 最終評価（Nova Pro）
- Input: 5,000 tokens/セッション × 2,250セッション = 11,250K tokens
- Output: 2,000 tokens/セッション × 2,250セッション = 4,500K tokens

#### ビデオ分析（Nova Lite）
- 使用セッション数: 2,250セッション × 60% = 1,350セッション
- 平均ビデオ長: 16分（営業ロールプレイの想定時間）
- Input tokens: 276,480 tokens/ビデオ × 1,350ビデオ = 373,248K tokens
- Output tokens: 10,000 tokens/ビデオ × 1,350ビデオ = 13,500K tokens

#### リファレンスチェック（Nova Micro + Knowledge Base）
- 使用セッション数: 2,250セッション × 80% = 1,800セッション
- 平均ユーザーメッセージ数: 10メッセージ/セッション
- Input tokens: 2,000 tokens/メッセージ × 10メッセージ × 1,800セッション = 36,000K tokens
- Output tokens: 1,000 tokens/メッセージ × 10メッセージ × 1,800セッション = 18,000K tokens
- Knowledge Base クエリ: 1,800セッション × 1クエリ = 1,800クエリ

### ビデオ分析機能のコスト詳細

#### 前提条件
- **使用率**: セッションの60%（1,350セッション/月）
- **平均ビデオ長**: 16分（営業ロールプレイの想定時間）
- **ビデオファイルサイズ**: 平均50MB/本
- **使用モデル**: Amazon Nova Lite（コスト効率重視）

#### コスト内訳
1. **Amazon Bedrock Nova Lite**
   - Input tokens: 373,248K tokens × $0.00003 = $11.20
   - Output tokens: 13,500K tokens × $0.00012 = $1.62
   - 小計: $12.82

2. **Amazon S3 ストレージ**
   - ストレージ: 67.5GB × $0.023 = $1.55
   - PUT リクエスト: 1,350回 × $0.0005/1000 = $0.68
   - GET リクエスト: 1,350回 × $0.0004/1000 = $0.54
   - 小計: $2.77

3. **AWS Lambda（ビデオ処理）**
   - 実行回数: 1,350回 × 2（アップロード + 分析）= 2,700回
   - 実行時間: 平均30秒/回 × 2,700回 = 22.5時間
   - コスト: $2.25

**ビデオ分析機能合計**: $17.04/月

### リファレンスチェック機能のコスト詳細

#### 前提条件
- **使用率**: セッションの80%（1,800セッション/月）
- **平均ユーザーメッセージ数**: 10メッセージ/セッション
- **使用モデル**: Amazon Nova Micro（コスト効率重視）
- **Knowledge Base**: 営業資料・製品情報の検索

#### コスト内訳
1. **Amazon Bedrock Nova Micro**
   - Input tokens: 36,000K tokens × $0.000035 = $1.26
   - Output tokens: 18,000K tokens × $0.00014 = $2.52
   - 小計: $3.78

2. **Amazon Bedrock Knowledge Base**
   - クエリ実行: 1,800クエリ × $0.0004 = $0.72
   - 小計: $0.72

3. **Amazon S3 Vectors**
   - ストレージ: 1GB × $0.06 = $0.06
   - PUT料金: 1GB × $0.20 = $0.20（初回のみ、月割り$0.03）
   - クエリ料金: 1,800クエリ × $2.5/100万クエリ = $0.005
   - 小計: $0.10

**リファレンスチェック機能合計**: $6.95/月

**注記**: S3 Vectorsの導入により、リファレンスチェック機能のコストが$93.17から$6.95へと92.5%削減されました。

## 注意事項
- 本試算はAWS無料利用枠を考慮しています
- 実際の使用量により変動する可能性があります
- 開発・テスト環境のコストは含まれていません
- データ転送コスト（リージョン間）は含まれていません
- 2025/08/20時点のus-east-1(バージニア)の料金表を参照しています
- 詳細は各サービスの料金ページを参照してください
