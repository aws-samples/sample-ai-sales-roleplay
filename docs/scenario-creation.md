# シナリオ作成機能ドキュメント

## 概要

シナリオ作成機能は、ユーザーがカスタムシナリオを作成・編集・削除できるようにする機能です。多様な営業シナリオを柔軟に作成でき、ユーザー独自のトレーニングシナリオを実現します。

## 機能説明

### シナリオ作成機能

シナリオ作成は6つのステップで構成されています

1. **基本情報**
   - タイトル（必須、3～100文字）
   - 説明（必須、10～1000文字）
   - 難易度（簡単、普通、難しい、専門家向け）
   - カテゴリ（一般、IT、金融、医療、小売、製造業など）

2. **NPC情報**
   - 名前（必須、2～50文字）
   - 役職（必須、最大100文字）
   - 会社（必須、最大100文字）
   - 性格特性（複数選択可能）
   - 詳細説明（任意）

3. **目標設定**
   - 初期メトリクス（怒りメーター、信頼度、進捗度の初期値）
   - 目標リスト（営業セッションの目標）
   - ゴール設定（必須/オプション、優先度、達成条件）

4. **共有設定**
   - 公開範囲（全公開、非公開、特定ユーザーと共有）
   - 共有先ユーザー（公開範囲が「特定ユーザーと共有」の場合）
   - Guardrail設定（コンプライアンスルールセット）

5. **営業資料・評価設定**
   - **営業資料のアップロード**: 商品パンフレット、価格表、約款などの営業に使用する資料をPDFでアップロード（最大5つ）
   - **自動評価機能**: アップロードした資料を基に、営業セッション後に発言内容の正確性を自動評価
   - **リファレンスチェック**: ユーザーの発言が資料の内容と合っているかを確認し、不正確な情報提供を指摘
   - **具体例**: 
     - ✅ 適切: 「金利は1.2%です」（資料に1.2%と記載）
     - ⚠️ 要改善: 「金利は大体1-2%くらいです」（資料には1.2%と正確に記載されている）
     - ❌ 問題: 「がん保険は皮膚がんも対象です」（資料には皮膚がんは対象外と記載）

6. **プレビュー**
   - 作成したシナリオの全体確認
   - 保存前の最終確認

### シナリオ編集機能

作成したシナリオは後から編集できます

### シナリオ削除機能

不要になったシナリオは削除できます

## 使用方法

### シナリオの作成

シナリオは自然言語で自由に作成することが可能

![](./image/シナリオ作成_基本情報.png)
![](./image/シナリオ作成_NPC設定.png)
![](./image/シナリオ作成_目標設定.png)
![](./image/シナリオ作成_営業資料.png)
![](./image/シナリオ作成_共有設定.png)


シナリオを新規に作成する場合は、シナリオ一覧画面より「シナリオ作成」ボタン(+のアイコン)を押下する。
![](./image/シナリオ作成_ボタン.png)

### シナリオの編集

作成したシナリオを更新する場合は、シナリオ一覧画面より「シナリオ管理」ボタン(歯車のアイコン)を押下する。
![](./image/シナリオ更新_ボタン.png)

シナリオが一覧で表示される。編集する場合は「編集」ボタン(鉛筆のアイコン)、削除する場合は「削除」ボタン(ゴミ箱のアイコン)を押下する。  
シナリオは作成したオーナーのみが編集可能
![](./image/シナリオ更新_一覧.png)